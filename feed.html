<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Your Calm Feed</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<script type="module" src="script.js"></script>

</head>

<body>

<div class="header">
    <div id="moodTitle">Your Feed</div>
    <div class="sub" id="focusText"></div>
</div>

<div class="feed" id="feedContainer">

    <!-- Mock posts for now -->
    <div class="post" data-tag="Nature">
        A quiet moment under soft morning light ğŸŒ¿
        <div class="tag">Nature</div>
    </div>

    <div class="post" data-tag="Art">
        A gentle sketch session to slow the mind âœï¸
        <div class="tag">Art</div>
    </div>

    <div class="post" data-tag="Reflection">
        â€œSmall steps still move you forward.â€ âœ¨
        <div class="tag">Reflection</div>
    </div>

    <div class="post" data-tag="Pets">
        A sleepy puppy dreaming about snacks ğŸ¾
        <div class="tag">Pets</div>
    </div>

    <div class="post" data-tag="Daily Life">
        Soft coffee moments with no rush â˜•
        <div class="tag">Daily Life</div>
    </div>

</div>

<!-- BOTTOM NAV -->
<div class="nav">
    <a href="feed.html" class="active">Home</a>
    <a href="post.html">Post</a>
    <a href="prefs.html">Prefs</a>
    <a href="profile.html">Profile</a>
</div>

<script>
// Load mood + focus
const selectedMood = localStorage.getItem('selectedMood') || "Your Mood";
const focusArray = JSON.parse(localStorage.getItem('selectedFocus') || "[]");

// Update header
document.getElementById("moodTitle").textContent = selectedMood + " Feed";

// Show focus selections under header
document.getElementById("focusText").textContent =
    focusArray.length > 0 ? "Focused on: " + focusArray.join(", ") : "General content";

// Filter posts
const posts = document.querySelectorAll(".post");

// If no focus selected â†’ show all
if (focusArray.length === 0) {
    posts.forEach(p => p.style.display = "block");
} else {
    posts.forEach(p => {
        const tag = p.getAttribute("data-tag");
        if (focusArray.includes(tag)) {
            p.style.display = "block";
        }
    });
}

// Mood-based accent color (future upgrade â€” works later)
</script>

</body>
</html>
